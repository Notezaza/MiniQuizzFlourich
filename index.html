<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Adventure - ค้นหาเมล็ดพันธุ์ในใจของคุณ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Base styles */
        body {
            font-family: 'Mitr', 'Inter', sans-serif;
            background-color: #f8fafc; /* Tailwind's gray-50 */
            color: #334155; /* slate-700 */
        }
        .font-mitr {
            font-family: 'Mitr', sans-serif;
        }
        .hidden {
            display: none;
        }

        /* Hero section styling */
        .hero-section {
            background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%); /* Medical green gradient */
            background-size: cover;
            background-position: center;
            min-height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 5rem;
            padding-bottom: 5rem;
            text-align: center;
        }
        .hero-section h1 {
            color: #065F46; /* emerald-800 */
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            font-size: 3rem; /* Adjusted for larger impact */
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        .hero-section p {
            color: #064E3B; /* emerald-900 */
            font-size: 1.35rem; /* Slightly larger */
            margin-bottom: 2.5rem;
            text-shadow: 0 2px 6px rgba(255, 255, 255, 0.5);
            max-width: 4xl; /* Wider text for better readability */
            margin-left: auto;
            margin-right: auto;
        }
        .start-quiz-btn {
            background: linear-gradient(90deg, #34D399 60%, #059669 100%); /* emerald-400 to emerald-600 */
            color: #fff;
            font-weight: bold;
            font-size: 1.35rem; /* Larger font */
            padding: 1.25rem 3rem; /* More padding */
            border-radius: 2.5rem; /* More rounded */
            box-shadow: 0 8px 30px rgba(14, 165, 233, 0.4); /* Stronger shadow */
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background 0.3s ease;
            outline: none;
            border: none;
            cursor: pointer;
        }
        .start-quiz-btn:hover, .start-quiz-btn:focus {
            background: linear-gradient(90deg, #059669 60%, #065F46 100%); /* Darker emerald on hover */
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 40px rgba(14, 165, 233, 0.6);
        }

        /* Responsive adjustments for hero section */
        @media (max-width: 767px) {
            .hero-section h1 {
                font-size: 2.25rem;
            }
            .hero-section p {
                font-size: 1.1rem;
            }
            .start-quiz-btn {
                font-size: 1.1rem;
                padding: 1rem 2rem;
            }
        }

        /* Gallery section styling */
        #gallery {
            background: #E6FFFA; /* light medical green */
            padding-top: 5rem;
            padding-bottom: 5rem;
        }
        .gallery-card {
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(179, 229, 252, 0.6); /* Adjusted shadow */
            transition: transform 0.25s ease-in-out, box-shadow 0.25s ease-in-out;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure cards are same height */
        }
        .gallery-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 12px 30px rgba(77, 208, 225, 0.7);
        }
        .gallery-card img {
            width: 100%;
            height: 280px; /* Fixed height for consistency */
            object-fit: cover;
            border-top-left-radius: 1.5rem;
            border-top-right-radius: 1.5rem;
        }
        .gallery-card-content {
            padding: 1.5rem;
            flex-grow: 1; /* Allows content to expand */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .gallery-card h3 {
            color: #0c4a6e; /* sky-900 */
            font-size: 1.25rem; /* Larger title */
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .gallery-card p {
            color: #164e63; /* cyan-900 */
            font-size: 1rem;
            line-height: 1.4;
        }
        @media (max-width: 767px) {
            .gallery-card img {
                height: 200px;
            }
        }

        /* Quiz section styling */
        #quiz-wrapper-section {
            background: linear-gradient(135deg, #D1FAE5, #B2F5EA); /* light medical green gradient */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 2rem 0; /* Add some vertical padding */
        }
        .quiz-container {
            background-color: rgba(255, 255, 255, 0.95); /* More opaque */
            border-radius: 2.5rem; /* More rounded */
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15); /* Stronger shadow */
            display: flex;
            flex-direction: column;
            min-height: 650px; /* Slightly taller */
            max-width: 1300px; /* Wider */
            width: 95%;
            overflow: hidden;
        }
        .media-section {
            flex-basis: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e3f2fd; /* light blue background */
            position: relative;
            min-height: 250px; /* Ensure media section has a min-height on mobile */
        }
        .media-element {
            max-width: 100%;
            max-height: 100%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-top-left-radius: 2.5rem; /* Match container border-radius */
            border-top-right-radius: 2.5rem; /* Match container border-radius */
        }
        @media (min-width: 768px) {
            .media-element {
                border-top-right-radius: 0;
                border-bottom-left-radius: 2.5rem;
            }
        }

        .quiz-content-section {
            font-family: 'Inter', sans-serif;
            flex-basis: 50%;
            padding: 2.5rem 3.5rem; /* More padding */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Distribute content */
        }
        .quiz-question-text {
            font-size: 1.3rem; /* Larger question text */
            line-height: 1.6;
            color: #1a202c; /* dark gray */
            margin-bottom: 1.5rem;
        }
        .quiz-option-btn {
            width: 100%;
            text-align: left;
            padding: 1.2rem 1.5rem; /* More padding for options */
            border: 1px solid #cbd5e1; /* slate-300 */
            border-radius: 0.75rem; /* More rounded corners */
            transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
            font-size: 1.1rem; /* Larger option text */
            color: #2d3748; /* gray-800 */
            cursor: pointer;
        }
        .quiz-option-btn:hover {
            background-color: #e0f2fe; /* light blue */
            border-color: #60a5fa; /* blue-400 */
            transform: translateY(-2px);
        }
        .quiz-option-btn.selected {
            background-color: #bfdbfe; /* blue-200 */
            border-color: #3b82f6; /* blue-500 */
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
        }
        .quiz-option-btn:disabled {
            opacity: 0.8;
            cursor: not-allowed;
        }

        /* Responsive adjustments for quiz section */
        @media (min-width: 768px) {
            .quiz-container {
                flex-direction: row;
            }
        }
        @media (max-width: 767px) {
            .quiz-container {
                min-height: unset;
                max-height: 95vh; /* Adjusted max-height */
                overflow-y: auto;
            }
            .quiz-content-section {
                padding: 1.5rem;
                justify-content: flex-start;
            }
            .media-section {
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }
        }

        /* Buttons in quiz section */
        #startButton, #nextButton {
            background-color: #059669; /* emerald-600 */
            color: #fff;
        }
        #startButton:hover, #nextButton:hover {
            background-color: #065F46; /* emerald-800 */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        #restartButton {
            background-color: #4b5563; /* gray-700 */
            color: #fff;
        }
        #restartButton:hover {
            background-color: #374151; /* gray-800 */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        #backToHomeBtn {
            border: 1px solid #9ca3af; /* gray-400 */
            color: #374151; /* gray-700 */
            background-color: #f9fafb; /* gray-50 */
        }
        #backToHomeBtn:hover {
            background-color: #f3f4f6; /* gray-100 */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.08);
        }

        #shareResultBtn {
            background-color: #10B981; /* emerald-500 */
            color: #fff;
        }
        #shareResultBtn:hover {
            background-color: #059669; /* emerald-600 */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        #downloadResultBtn {
            background-color: #10b981; /* emerald-500 */
            color: #fff;
        }
        #downloadResultBtn:hover {
            background-color: #059669; /* emerald-600 */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        /* Progress Bar */
        #progressBarContainer {
            background-color: #e2e8f0; /* slate-200 */
            height: 0.75rem; /* slightly taller */
            border-radius: 0.375rem;
            margin-bottom: 1rem;
        }
        #progressBar {
            background-color: #059669; /* emerald-600 */
            height: 100%;
            border-radius: 0.375rem;
            transition: width 0.3s ease-in-out;
        }
        #questionCounter {
            font-size: 0.95rem;
            color: #64748b; /* slate-500 */
            margin-bottom: 1.25rem;
        }

        /* Result Section Styling */
        .result-container h2 {
            font-size: 2.5rem; /* Larger result title */
            margin-bottom: 1rem;
            color: #0c4a6e;
        }
        .result-container p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #334155;
        }
        .result-container h3 {
            font-size: 1.5rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            border-bottom: 2px solid;
            padding-bottom: 0.25rem;
        }
        .result-container h3.strengths {
            color: #047857; /* emerald-700 */
            border-color: #047857;
        }
        .result-container h3.weaknesses {
            color: #b91c1c; /* red-700 */
            border-color: #b91c1c;
        }
        .result-container ul {
            list-style: disc;
            padding-left: 1.5rem;
        }
        .result-container li {
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 0.25rem;
            color: #475569; /* slate-700 */
        }
    </style>
</head>
<body class="text-gray-800">
  <!-- 1. เพิ่ม background music -->
  <audio id="bgMusic" preload="auto" loop>
    <source 
      src="https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/Warm%20Light.mp3" 
      type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <div id="homepage-section">
    <header class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 shadow-md">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="#" class="text-2xl font-bold font-mitr text-gray-900">MBTI Adventure</a>
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="text-gray-600 hover:text-blue-600 transition-colors duration-200">หน้าแรก</a>
                    <a href="#gallery" class="text-gray-600 hover:text-blue-600 transition-colors duration-200">บุคลิกภาพ</a>
                    <button class="start-quiz-btn text-blue-600 bg-transparent hover:bg-transparent hover:text-blue-700 shadow-none hover:shadow-none p-0">เริ่มทดสอบ</button>
                </nav>
                <button class="start-quiz-btn md:hidden bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:bg-blue-700 transition-all">
                    เริ่มเลย
                </button>
            </div>
        </header>

        <main>
            <section id="home" class="hero-section h-screen flex items-center justify-center pt-16">
                <div class="container mx-auto px-6">
                    <h1 class="font-extrabold font-mitr">ค้นหา "เมล็ดพันธุ์ในใจ" ที่แท้จริงของคุณ</h1>
                    <p class="text-gray-700">
                        ผ่านการผจญภัยในโลกแฟนตาซี เพื่อค้นพบบุคลิกภาพที่ซ่อนอยู่และจุดประกายศักยภาพในตัวคุณ
                    </p>
                    <button class="start-quiz-btn">
                        เริ่มต้นการผจญภัย
                    </button>
                </div>
            </section>

            <section id="gallery">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold font-mitr text-gray-900">เหล่าเมล็ดพันธุ์ในใจ (Archetypes)</h2>
                        <p class="text-lg text-gray-600 mt-2">บุคลิกภาพทั้ง 16 แบบในโลกแห่งการผจญภัยนี้</p>
                    </div>
                    <div id="mbti-gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                        </div>
                </div>
            </section>
        </main>

        <footer class="bg-gray-900 text-white">
            <div class="container mx-auto px-6 py-12 text-center">
                <p class="text-2xl font-bold font-mitr mb-4">MBTI Adventure</p>
                <p class="mb-6 text-gray-300">สร้างสรรค์เพื่อการค้นพบตัวเองในมุมมองใหม่</p>
                <p class="text-gray-400 text-sm">&copy; 2025 MBTI Adventure. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <div id="quiz-wrapper-section" class="hidden">
        <div class="quiz-container">
            <div class="media-section">
                <img id="questionImage" class="media-element" src="https://placehold.co/400x400/b0e0e6/4682b4?text=Adventure+Starts" alt="Quiz Media">
                <video id="questionVideo" class="media-element hidden" playsinline muted></video>
            </div>
            <div class="quiz-content-section">
                 <div class="flex-grow overflow-y-auto pr-2 custom-scrollbar">
                    <div id="quizDiv">
                        </div>
                    <div id="optionsDiv" class="space-y-4 my-4">
                        </div>
                </div>
                <div class="mt-auto pt-4 flex-shrink-0">
                    <div id="progressBarContainer" class="w-full bg-gray-200 rounded-full h-3 mb-4 hidden">
                        <div id="progressBar" class="bg-blue-600 h-full rounded-full" style="width: 0%"></div>
                    </div>
                    <div id="questionCounter" class="text-center text-gray-500 mb-4"></div>
                    <button id="startButton" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-all">เริ่มต้นการผจญภัย</button>
                    <button id="nextButton" class="w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition-all hidden">ข้อต่อไป</button>
                    <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0 mt-4 px-4">
                        <button id="restartButton"
                                class="w-full sm:w-1/2 bg-gray-500 text-white font-bold py-3 rounded-lg hover:bg-gray-600 transition-all hidden">
                            ทำแบบทดสอบใหม่
                        </button>
                        <button id="backToHomeBtn"
                                class="w-full sm:w-1/2 border border-gray-400 text-gray-700 font-bold py-3 rounded-lg hover:bg-gray-100 transition-all hidden">
                            กลับหน้าแรก
                        </button>
                    </div>
                    <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0 mt-4 px-4">
                        <button id="shareResultBtn"
                                class="w-full sm:w-1/2 bg-green-500 text-white font-bold py-3 rounded-lg hover:bg-green-600 transition-all hidden">
                            แชร์ผลลัพธ์
                        </button>
                        <button id="downloadResultBtn"
                                class="w-full sm:w-1/2 bg-green-500 text-white font-bold py-3 rounded-lg hover:bg-green-600 transition-all hidden">
                            ดาวน์โหลดแพลตฟอร์ม
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
// =================================================================
// SCRIPT FOR PAGE NAVIGATION AND HOMEPAGE GALLERY
// =================================================================
const homepageSection = document.getElementById('homepage-section');
const quizWrapperSection = document.getElementById('quiz-wrapper-section');
const galleryContainer = document.getElementById('mbti-gallery');
const startQuizButtons = document.querySelectorAll('.start-quiz-btn');
const backToHomeBtn = document.getElementById('backToHomeBtn');

// **แก้เฉพาะบล็อกนี้ให้ใช้รูปจาก GitHub RAW**
const mbtiHomepageArchetypes = [
  { type: "ISTJ", title: "ผู้พิทักษ์แห่งบรรพกาล",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ISTJ.KID.png"
  },
  { type: "ISFJ", title: "ผู้เยียวยาแห่งพงไพร",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ISFJ.KID.png"
  },
  { type: "INFJ", title: "โหราจารย์แห่งแสงดาว",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/INFJ.KID.png"
  },
  { type: "INTJ", title: "นักเล่นแร่แปรธาตุ",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/INTJ.KID.png"
  },
  { type: "INTP", title: "นักปราชญ์แห่งหอคอย",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/INTP.KID.png"
  },
  { type: "ISTP", title: "ช่างตีดาบในตำนาน",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ISTP.KID.png"
  },
  { type: "ISFP", title: "นักดนตรีพเนจร",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ISFP.KID.png"
  },
  { type: "INFP", title: "ผู้สานฝัน",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/INFP.KID.png"
  },
  { type: "ESTP", title: "นักล่าสมบัติ",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ESTP.KID.png"
  },
  { type: "ESFP", title: "ราชันย์แห่งงานรื่นเริง",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ESFP.KID.png"
  },
  { type: "ENFP", title: "ผู้ปลดปล่อยวิญญาณ",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ENFP.KID.png"
  },
  { type: "ENTP", title: "จอมโจรแห่งปัญญา",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ENTP.KID.png"
  },
  { type: "ESTJ", title: "แม่ทัพผู้คุมกฎ",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ESTJ.KID.png"
  },
  { type: "ESFJ", title: "ทูตสันถวไมตรี",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ESFJ.KID.png"
  },
  { type: "ENFJ", title: "วีรบุรุษแห่งผู้คน",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ENFJ.KID.png"
  },
  { type: "ENTJ", title: "จักรพรรดิผู้พิชิต",
    image: "https://raw.githubusercontent.com/Notezaza/MiniQuizzFlourich/main/ENTJ.KID.png"
  }
];

// สร้างการ์ดลงใน Gallery เหมือนเดิม
mbtiHomepageArchetypes.forEach(archetype => {
    const card = document.createElement('div');           
    card.className = 'gallery-card';
    card.innerHTML = `
        <img src="${archetype.image}" alt="${archetype.title}"
             onerror="this.onerror=null;this.src='https://placehold.co/600x800/334155/e2e8f0?text=Image+Not+Found';">
        <div class="gallery-card-content">
            <div>
                <h3>${archetype.type}</h3>
                <p>${archetype.title}</p>
            </div>
        </div>
    `;
    galleryContainer.appendChild(card);
});
    // Function to show the quiz view
    const showQuizView = () => {
        homepageSection.classList.add('hidden');
        quizWrapperSection.classList.remove('hidden');
        window.scrollTo(0, 0);
        resetQuiz();
        // เล่นเพลง Warm Light เมื่อเริ่มทำแบบทดสอบ
        document.getElementById('bgMusic').play().catch(()=>{/* autoplay blocked */});
        startButton.click();
    };

    // Function to show the home view
    const showHomeView = () => {
        quizWrapperSection.classList.add('hidden');
        homepageSection.classList.remove('hidden');
        window.scrollTo(0, 0);
        resetQuiz();
        // หยุดเพลงและย้อนตำแหน่งไปเริ่มต้น
        const bg = document.getElementById('bgMusic');
        bg.pause();
        bg.currentTime = 0;
    };

    // Add event listeners to all start quiz buttons
    startQuizButtons.forEach(btn => btn.addEventListener('click', showQuizView));
    backToHomeBtn.addEventListener('click', showHomeView);

    // =================================================================
    // SCRIPT FOR THE QUIZ LOGIC
    // =================================================================

    const quizDiv = document.getElementById('quizDiv');
    const optionsDiv = document.getElementById('optionsDiv');
    const startButton = document.getElementById('startButton');
    const nextButton = document.getElementById('nextButton');
    const restartButton = document.getElementById('restartButton');
    const questionCounter = document.getElementById('questionCounter');
    const progressBarContainer = document.getElementById('progressBarContainer');
    const progressBar = document.getElementById('progressBar');
    const questionImage = document.getElementById('questionImage');
    const questionVideo = document.getElementById('questionVideo');
    const shareResultBtn = document.getElementById('shareResultBtn');
    const downloadResultBtn = document.getElementById('downloadResultBtn');

    const questions = [
        {
            question: "<strong>ค่ำคืนก่อนออกเดินทาง</strong> <br>หมู่บ้านของคุณจัดงานเลี้ยงเล็กๆ เพื่อเป็นกำลังใจให้ผู้กล้าที่จะออกผจญภัย ผู้คนมารวมตัวกันรอบกองไฟ แบ่งปันเรื่องเล่าและเสียงหัวเราะอย่างอบอุ่น ในบรรยากาศเป็นกันเองเช่นนี้ คุณจะทำอย่างไร?",
            options: [
                { text: "A) เข้าไปร่วมวงสนทนาอย่างกระตือรือร้น ยิ้มแย้มพูดคุยกับทุกคน แบ่งปันเรื่องราวความตื่นเต้นและฟังเรื่องเล่าจากชาวบ้านอย่างสนุกสนาน", type: "E" },
                { text: "B) ยืนสังเกตการณ์จากขอบวงสนทนา พลางแลกเปลี่ยนรอยยิ้มและการทักทายสั้นๆ กับคนที่เดินผ่านไปมา แต่ไม่พยายามเป็นจุดเด่นหรือเริ่มบทสนทนาที่ยาวนัก", type: "I" },
                { text: "C) ปลีกตัวไปนั่งเงียบๆ ใกล้กองไฟเพียงลำพัง ทอดสายตามองดูผู้คนพลุกพล่าน พลางทบทวนถึงสิ่งที่กำลังจะเผชิญในวันพรุ่งนี้", type: "I" },
                { text: "D) หามุมสงบใต้ต้นไม้ริมงาน หลับตาลงเพื่อพักผ่อนและทำสมาธิ เตรียมความพร้อมทั้งร่างกายและจิตใจสำหรับการเดินทางที่จะมาถึง", type: "I" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions1.mp4"
        },
        {
            question: "<strong>ออกเดินทางยามรุ่งเช้า</strong> <br>คุณถือแผนที่เก่าแก่ผืนหนึ่งซึ่งระบุเส้นทางผ่านป่าไปสู่เทือกเขาเบื้องหน้า แต่ว่าแผนที่นั้นมีรอยขาดเลือนในบางส่วน รายละเอียดหลายอย่างไม่ชัดเจนและอาจคลาดเคลื่อนได้ คุณจะเลือกเส้นทางใด?",
            options: [
                { text: "A) เดินตามเส้นทางที่ระบุบนแผนที่อย่างเคร่งครัด ช่างสังเกตป้ายบอกทาง ร่องรอยบนพื้นดิน และสิ่งแวดล้อมรอบตัวเพื่อให้มั่นใจว่าเดินไม่ผิดทาง", type: "S" },
                { text: "B) ใช้แผนที่เป็นแนวทางหลัก แต่ก็เปิดใจสำรวจเส้นทางย่อยๆ ที่ดูน่าสนใจหรือมีร่องรอยให้สงสัยว่าอาจเป็นทางลัด โดยใช้การสังเกตการณ์จริงประกอบการตัดสินใจ", type: "S" },
                { text: "C) พิจารณาจากประสบการณ์และความรู้สึกส่วนตัว หากมีเส้นทางที่ไม่ปรากฏในแผนที่แต่ดูมีแววว่าจะนำไปสู่จุดหมายได้อย่างรวดเร็ว คุณก็พร้อมที่จะลองเสี่ยง", type: "N" },
                { text: "D) เชื่อในสัญชาตญาณหรือภาพที่เคยเห็นในความฝันเมื่อคืนที่อาจบอกใบ้ถึงทางลัดลึกลับที่ไม่ได้ปรากฏบนแผนที่ แล้วมุ่งหน้าสู่ทางเดินในป่าที่ความรู้สึกบอกว่าน่าจะใช่", type: "N" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions2.mp4"
        },
        {
            question: "<strong>สิ่งมีชีวิตบาดเจ็บข้างทาง</strong> <br>ระหว่างทางที่ลัดเลาะผ่านป่า คุณพบสิ่งมีชีวิตน้อยๆ ตัวหนึ่ง (เช่น ลูกกวางป่าหรือภูตตัวจิ๋ว) นอนบาดเจ็บอยู่ข้างพุ่มไม้ มันส่งเสียงครวญครางเบาๆ ด้วยความเจ็บปวด การหยุดช่วยเหลืออาจทำให้การเดินทางล่าช้า แต่ถ้าปล่อยผ่านไปเจ้าตัวน้อยอาจไม่รอด คุณจะทำอย่างไร?",
            options: [
                { text: "A) ประเมินสถานการณ์อย่างรวดเร็ว หากการช่วยเหลือใช้เวลาน้อยหรือไม่กระทบเป้าหมายสำคัญมากนัก คุณจะให้การช่วยเหลือเบื้องต้นแล้วรีบเดินทางต่อ", type: "T" },
                { text: "B) รู้สึกสงสารและอยากช่วยเหลือ แต่ตระหนักว่าการเดินทางสำคัญกว่า คุณอาจวางน้ำดื่มและเศษอาหารเล็กน้อยไว้ใกล้ๆ แล้วเดินจากไป", type: "T" },
                { text: "C) ไม่อาจทำใจจากไปได้ ตัดสินใจหยุดลงมือช่วยรักษาอาการบาดเจ็บของเจ้าตัวน้อยอย่างเต็มที่ ใช้เวลาพันแผลและดูแลจนมันพอจะปลอดภัย", type: "F" },
                { text: "D) ด้วยความสงสารและอยากช่วยเหลือ คุณจะใช้เวลาดูแลสิ่งมีชีวิตนั้นจนมั่นใจว่าปลอดภัยที่สุดเท่าที่จะทำได้ แม้จะทำให้การเดินทางล่าช้าไปมากก็ตาม", type: "F" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions3.mp4"
        },
        {
            question: "<strong>เผชิญป่าทึบภูเขาสูง</strong> <br>เบื้องหน้าคุณคือป่าทึบที่ปกคลุมด้วยหมอกจางและทางขึ้นเขาที่คดเคี้ยวเต็มไปด้วยความไม่แน่นอน คุณหยุดพักตั้งหลักครู่หนึ่งเพื่อวางแผนการเดินทางต่อในช่วงที่เหลือของวัน คุณจะจัดการกับสถานการณ์นี้อย่างไร?",
            options: [
                { text: "A) วางแผนการเดินทางอย่างรอบคอบและเป็นระบบ ตรวจสอบเสบียง อุปกรณ์ และแผนที่อีกครั้ง กำหนดเส้นทางคร่าวๆ ในใจอย่างมีระเบียบวินัย", type: "J" },
                { text: "B) กำหนดเป้าหมายหลักที่จะไปถึงในวันนั้น แต่พร้อมที่จะปรับเปลี่ยนแผนย่อยๆ ตามสถานการณ์ที่เผชิญหน้า", type: "P" },
                { text: "C) ไม่วางแผนในรายละเอียดมากนัก เชื่อมั่นในความสามารถของตนเองที่จะรับมือกับสิ่งที่ไม่คาดฝัน และพร้อมปรับตัวไปตามสถานการณ์", type: "P" },
                { text: "D) ก้าวเดินเข้าสู่ป่าทึบไปตามสัญชาตญาณ เชื่อมั่นว่าตนจะสามารถแก้ไขปัญหาเฉพาะหน้าและปรับตัวตามสถานการณ์ที่เปลี่ยนแปลงได้", type: "P" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions4.mp4"
        },
        {
            question: "<strong>พักแรมกับผู้ร่วมทางแปลกหน้า</strong> <br>ช่วงเที่ยงของวันถัดมา คุณมาถึงลานพักแรมเล็กๆ ริมลำธารใสกลางป่า ที่นั่นมีกลุ่มนักเดินทางกลุ่มหนึ่งกำลังหยุดพักผ่อน รับประทานอาหารกลางวันกันอยู่ใต้ร่มไม้ เมื่อเห็นคุณเข้ามา พวกเขาก็ยิ้มทักทายและกวักมือเชื้อเชิญให้เข้ามาร่วมวงด้วย ในสถานการณ์นี้คุณจะทำอย่างไร?",
            options: [
                { text: "A) ยิ้มรับและเดินเข้าไปร่วมวงกับพวกเขา แนะนำตัวเองและสนทนาแลกเปลี่ยนเรื่องราวการผจญภัยอย่างเป็นกันเอง สร้างมิตรภาพใหม่ๆ", type: "E" },
                { text: "B) เดินเข้าไปทักทายสั้นๆ และนั่งลงไม่ไกลจากกลุ่มนักเดินทาง เพื่อให้รู้สึกถึงความเป็นส่วนหนึ่งแต่ก็ยังคงความเป็นส่วนตัวไว้", type: "E" },
                { text: "C) กล่าวขอบคุณพวกเขาด้วยรอยยิ้ม แล้วปลีกตัวไปนั่งพักใต้ต้นไม้ใกล้ลำธารเพียงลำพัง หยิบอาหารง่ายๆ ขึ้นมารับประทาน ใช้เวลากับตัวเอง", type: "I" },
                { text: "D) ปฏิเสธอย่างสุภาพและปลีกตัวออกห่างจากกลุ่มนักเดินทางทันที คุณรู้สึกสบายใจกว่าที่จะใช้เวลาพักผ่อนในบรรยากาศที่เงียบสงบเพียงลำพัง", type: "I" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions5.mp4"
        },
        {
            question: "<strong>ปริศนาศิลากลางป่า</strong> <br>ลึกเข้าไปในป่า คุณค้นพบแผ่นศิลาโบราณตั้งตระหง่านอยู่กลางลานหิน แผ่นศิลานั้นสลักอักขระและบทปริศนาที่เชื่อว่าจะนำทางไปสู่ที่ซ่อนของเมล็ดพันธุ์ในใจ ทว่าบางส่วนของแผ่นศิลาหักหายไปทำให้ข้อความไม่สมบูรณ์ อ่านไม่ออกทั้งหมด คุณจะไขปริศนานี้อย่างไร?",
            options: [
                { text: "A) พินิจพิเคราะห์ข้อความที่ปรากฏบนแผ่นศิลาอย่างตั้งใจ ไล่สายตาไปตามอักขระทีละตัว พยายามปะติดปะต่อจากส่วนที่เหลือ และสำรวจสิ่งแวดล้อมโดยรอบอย่างละเอียด", type: "S" },
                { text: "B) พยายามทำความเข้าใจความหมายโดยรวมของปริศนาจากส่วนที่เหลืออยู่ แล้วใช้ความรู้ทั่วไปและประสบการณ์ส่วนตัวมาช่วยเติมเต็มช่องว่างที่ขาดหายไป", type: "S" },
                { text: "C) ปล่อยให้ความคิดสร้างสรรค์ทำงาน ลองตีความสัญลักษณ์และอักขระต่างๆ ในแบบที่ไม่ตรงไปตรงมานัก อาจมีนัยยะแฝงอยู่เบื้องหลังคำพูดนั้น", type: "N" },
                { text: "D) หลับตาลงและสูดลมหายใจลึก ผ่อนคลายจิตใจให้ว่างและเปิดรับพลังลึกลับของสถานที่นี้ ปล่อยสัญชาตญาณให้เชื่อมโยงกับความหมายโดยรวมของปริศนา", type: "N" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions6.mp4"
        },
        {
            question: "<strong>เผชิญหน้าผู้พิทักษ์แห่งป่า</strong> <br>เมื่อเข้าใกล้เขตแดนศักดิ์สิทธิ์ที่เชื่อว่าเมล็ดพันธุ์ในใจซ่อนอยู่ ทันใดนั้น สัตว์วิเศษขนาดใหญ่รูปร่างคล้ายหมาป่าก็ปรากฏตัวออกมาจากเงามืด มันยืนขวางทางและคำรามก้องด้วยความระแวดระวัง ดวงตาของมันจับจ้องมาที่คุณราวกับต้องการปกป้องบางสิ่งเบื้องหลัง คุณจะรับมือกับสถานการณ์นี้อย่างไร?",
            options: [
                { text: "A) คุณสูดหายใจเข้าลึกและพยายามระงับความตื่นเต้น ใช้ความคิดอย่างรวดเร็วประเมินสถานการณ์ตรงหน้าอย่างมีเหตุผล มองหาวิธีจัดการกับสัตว์วิเศษนี้โดยไม่ต้องปะทะตรงๆ", type: "T" },
                { text: "B) ประเมินท่าทีของสัตว์วิเศษอย่างใจเย็น พยายามทำความเข้าใจว่ามันต้องการอะไร หรือมีวิธีใดที่จะสื่อสารกับมันได้บ้างโดยไม่ก่อให้เกิดความขัดแย้ง", type: "T" },
                { text: "C) คุณค่อยๆ ย่อตัวลงเล็กน้อยแสดงท่าทีอ่อนโยน ยื่นมือออกมาอย่างช้าๆ เพื่อสื่อว่าคุณไม่มีเจตนาร้าย พลางพูดกับสัตว์วิเศษด้วยน้ำเสียงนุ่มนวล", type: "F" },
                { text: "D) พยายามทำความเข้าใจความรู้สึกของสัตว์วิเศษ และตอบสนองด้วยความเห็นอกเห็นใจอย่างเต็มที่ อาจยอมเสียสละบางอย่างเพื่อให้มันรู้สึกปลอดภัยและวางใจ", type: "F" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions7.mp4"
        },
        {
            question: "<strong>สวนต้องมนตร์ในตำนาน</strong> <br>คุณก้าวเข้าสู่สวนต้องมนตร์อันกว้างใหญ่ สถานที่สุดท้ายที่คาดว่าเมล็ดพันธุ์ในใจถูกซุกซ่อนไว้ ภายในสวนมีทั้งพฤกษานานาพันธุ์ที่เรืองแสงและเส้นทางคดเคี้ยวสลับซับซ้อน แถมยังเต็มไปด้วยม่านหมอกและภาพลวงตาที่ทำให้ยากจะแยกแยะทางที่ถูกต้อง ไม่มีแผนที่หรือเบาะแสชัดเจนระบุเส้นทางในสวนลึกลับแห่งนี้ คุณจะค้นหาทางไปข้างหน้าอย่างไร?",
            options: [
                { text: "A) คุณตัดสินใจใช้วิธีการที่เป็นระบบที่สุดเท่าที่จะทำได้ เริ่มจดจำและทำเครื่องหมายเล็กๆ ตามทางที่เดินผ่าน พลางแบ่งจิตใจให้เป็นระเบียบ คิดวางแผนสำรวจทีละส่วน", type: "J" },
                { text: "B) เดินสำรวจไปตามทางที่ดูมีเหตุผลและเป็นไปได้มากที่สุด โดยอาศัยการสังเกตรายละเอียดเล็กๆ น้อยๆ เพื่อหาเบาะแส", type: "P" },
                { text: "C) พยายามทำความเข้าใจหลักการหรือรูปแบบที่ซ่อนอยู่ในสวน แล้วใช้ความเข้าใจนั้นในการคาดเดาทิศทางที่ถูกต้อง", type: "N" },
                { text: "D) คุณเลือกที่จะปล่อยใจให้ไหลไปตามบรรยากาศของสวนวิเศษ เดินตามทางที่รู้สึกดึงดูดหรือชวนให้ค้นหาโดยไม่พยายามบังคับทิศทางตายตัว", type: "P" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions8.mp4"
        },
        {
            question: "<strong>เสียงกระซิบของผู้พิทักษ์โบราณ</strong> <br>ในความเงียบสงัดใจกลางสวนต้องมนตร์ คุณสัมผัสได้ว่าจุดหมายปลายทางอยู่ไม่ไกลออกไป แสงเรืองรองจางๆ ลอดผ่านม่านหมอกมาจากที่ไกลๆ อย่างไรก็ตาม เบื้องหน้าคุณยังคงเป็นปริศนา ไม่แน่ใจว่าควรก้าวไปทางใดต่อ ขณะนั้นเองเสียงกระซิบอ่อนโยนของวิญญาณผู้พิทักษ์โบราณดังก้องขึ้นมาจากเกสรดอกไม้และสายลม วิญญาณตนนั้นเสนอตัวจะช่วยนำทางคุณผ่านบททดสอบสุดท้าย คุณจะตอบสนองอย่างไร?",
            options: [
                { text: "A) แม้จะรู้สึกขอบคุณ แต่คุณจะปฏิเสธความช่วยเหลือนั้นอย่างสุภาพ เลือกที่จะก้าวเดินต่อไปด้วยตนเองตามหนทางที่หัวใจและประสบการณ์พามา", type: "I" },
                { text: "B) รับฟังคำแนะนำจากวิญญาณผู้พิทักษ์ด้วยความเคารพ แต่ยังคงใช้ดุลยพินิจของตนเองในการตัดสินใจขั้นสุดท้าย", type: "I" },
                { text: "C) กล่าวตอบรับเสียงกระซิบนั้นด้วยความขอบคุณ เปิดใจสนทนาและรับฟังคำแนะนำจากวิญญาณผู้พิทักษ์ด้วยความกระตือรือร้น", type: "E" },
                { text: "D) คุณรู้สึกยินดีและซาบซึ้งใจอย่างยิ่งที่ได้รับความช่วยเหลือ จึงตอบรับด้วยความเต็มใจและพร้อมที่จะปฏิบัติตามคำแนะนำนั้นอย่างเคร่งครัด", type: "E" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions9.mp4"
        },
        {
            question: "<strong>การตัดสินใจครั้งสุดท้ายกับเมล็ดพันธุ์ในใจ</strong> <br>ในที่สุดคุณก็ได้มาถึงเบื้องหน้าต้นไม้ใหญ่ใจกลางสวนแห่งนี้ ท่ามกลางแสงสีทองส่องประกาย คุณค้นพบกล่องสมบัติไม้เก่าๆ ที่ถูกเถาวัลย์พันเกี่ยวไว้ ภายในนั้นคือ เมล็ดพันธุ์ในใจ เมล็ดสีทองเปล่งแสงอบอุ่นอยู่บนฝ่ามือของคุณ ตามตำนานกล่าวไว้ว่าผู้ครอบครองเมล็ดพันธุ์วิเศษนี้จะต้องเลือกหนทางในการใช้หรือปลดปล่อยมัน คุณจะจัดการกับเมล็ดพันธุ์นี้อย่างไรต่อไป?",
            options: [
                { text: "A) ปฏิบัติตามคำแนะนำโบราณอย่างเคร่งครัด หากมีบันทึกหรือพิธีกรรมใดที่บรรพชนถ่ายทอดไว้ คุณจะทำตามทุกขั้นตอนอย่างละเอียดถี่ถ้วน", type: "J" },
                { text: "B) ศึกษาคำแนะนำโบราณ แต่ก็พิจารณาจากบริบทและสถานการณ์ปัจจุบัน เพื่อหาวิธีที่ดีที่สุดในการใช้ประโยชน์จากเมล็ดพันธุ์", type: "J" },
                { text: "C) เชื่อมั่นในหัวใจและช่วงเวลานี้ โดยไม่ยึดติดกับกฎเกณฑ์ตายตัว คุณอาจตัดสินใจปลูกเมล็ดพันธุ์นี้ลงบนผืนดินตรงหน้า ณ จุดที่รู้สึกว่าเหมาะสมที่สุดทันที", type: "P" },
                { text: "D) ปล่อยให้สัญชาตญาณนำทางไปสู่การตัดสินใจที่ยิ่งใหญ่ที่สุด อาจเป็นการเก็บเมล็ดพันธุ์ไว้เพื่อรอคอยช่วงเวลาที่เหมาะสมอย่างแท้จริง หรือนำไปมอบให้กับผู้ที่สมควรได้รับที่สุดโดยไม่ได้วางแผนล่วงหน้า", type: "P" }
            ],
            video: "https://Notezaza.github.io/MiniQuizzFlourich/questions10.mp4"
        }
    ];

    const mbtiResults = {
        "INTJ": { name: "นักเล่นแร่แปรธาตุ", image: "https://Notezaza.github.io/MiniQuizzFlourich/INTJ.KID.png", description: "คุณคือนักคิดเชิงกลยุทธ์ผู้มองการณ์ไกล เหมือนนักเล่นแร่แปรธาตุที่มองเห็นความเป็นไปได้ที่ซ่อนอยู่ในสิ่งต่างๆ คุณมักจะวางแผนทุกอย่างไว้ในใจและมีความมุ่งมั่นที่จะเปลี่ยนวิสัยทัศน์ให้กลายเป็นความจริง", strengths: ["มองการณ์ไกล", "มีความคิดสร้างสรรค์สูง", "รักอิสระและพึ่งพาตัวเอง", "มีความมุ่งมั่นและเด็ดเดี่ยว", "กระหายความรู้"], weaknesses: ["เย่อหยิ่งและชอบตัดสิน", "วิเคราะห์มากเกินไปจนไม่ลงมือทำ", "ไม่เก่งเรื่องการเข้าใจอารมณ์ความรู้สึก", "ไม่ชอบกฎเกณฑ์ที่มีโครงสร้างตายตัว"] },
        "INTP": { name: "นักปราชญ์แห่งหอคอย", image: "https://Notezaza.github.io/MiniQuizzFlourich/INTP.KID.png", description: "คุณคือผู้ใฝ่รู้ที่เปี่ยมด้วยตรรกะและความคิดสร้างสรรค์ เหมือนนักปราชญ์ที่ใช้เวลาในหอคอยเพื่อค้นหาความจริงของโลก คุณสนุกกับการวิเคราะห์ทฤษฎีและแนวคิดที่ซับซ้อน และมักจะมีมุมมองที่ไม่เหมือนใคร", strengths: ["นักวิเคราะห์และมีตรรกะ", "ช่างจินตนาการและมีความคิดริเริ่ม", "ใจกว้างและรักการเรียนรู้", "ซื่อตรงและตรงไปตรงมา", "มีความคิดเป็นของตัวเอง"], weaknesses: ["ชอบเก็บตัวและเข้าสังคมไม่เก่ง", "เหม่อลอยและไม่ใส่ใจรายละเอียด", "อาจดูเย็นชาและไม่ใส่ใจความรู้สึกผู้อื่น", "ไม่ชอบทำตามกฎระเบียบ"] },
        "ENTJ": { name: "จักรพรรดิผู้พิชิต", image: "https://Notezaza.github.io/MiniQuizzFlourich/ENTJ.KID.png", description: "คุณคือผู้นำที่มีวิสัยทัศน์และความสามารถในการบัญชาการ เหมือนจักรพรรดิผู้สร้างอาณาจักรด้วยความมุ่งมั่น คุณเก่งในการมองเห็นภาพรวมและสามารถวางแผนกลยุทธ์เพื่อให้บรรลุเป้าหมายที่ยิ่งใหญ่ได้เสมอ", strengths: ["มีความเป็นผู้นำสูง", "มองการณ์ไกลและวางแผนเก่ง", "มีความมั่นใจในตัวเอง", "เด็ดขาดและกล้าตัดสินใจ", "สื่อสารได้อย่างมีประสิทธิภาพ"], weaknesses: ["อาจจะเผด็จการและไม่ค่อยอดทน", "ดื้อรั้นและไม่ค่อยยืดหยุ่น", "เย็นชาและไม่ค่อยแสดงอารมณ์", "อาจมองข้ามความรู้สึกของผู้อื่น"] },
        "ENTP": { name: "จอมโจรแห่งปัญญา", image: "https://Notezaza.github.io/MiniQuizzFlourich/ENTP.KID.png", description: "คุณคือนักโต้วาทีผู้ชาญฉลาดและมีไหวพริบ เหมือนจอมโจรที่ใช้ปัญญาเอาชนะอุปสรรค คุณชอบท้าทายแนวคิดเดิมๆ และสนุกกับการสำรวจความเป็นไปได้ใหม่ๆ อยู่เสมอ", strengths: ["มีไหวพริบและฉลาดหลักแหลม", "มีความคิดสร้างสรรค์และริเริ่ม", "กระตือรือรันและมีพลังงานสูง", "ชอบท้าทายและแก้ไขปัญหา", "เป็นนักสื่อสารที่ยอดเยี่ยม"], weaknesses: ["ไม่ชอบทำตามกฎและเบื่อหน่ายง่าย", "อาจไม่สามารถทำสิ่งที่เริ่มไว้ให้สำเร็จ", "ชอบโต้เถียงและไม่ค่อยยอมใคร", "อาจไม่ใส่ใจความรู้สึกของคนรอบข้าง"] },
        "INFJ": { name: "โหราจารย์แห่งแสงดาว", image: "https://Notezaza.github.io/MiniQuizzFlourich/INFJ.KID.png", description: "คุณคือผู้ให้คำแนะนำที่เปี่ยมด้วยความเห็นอกเห็นใจและสัญชาตญาณ เหมือนโหราจารย์ผู้หยั่งรู้ความลับของดวงดาว คุณมีความเข้าใจในตัวผู้อื่นอย่างลึกซึ้งและมุ่งหวังที่จะช่วยเหลือให้โลกดีขึ้น", strengths: ["มีสัญชาตญาณที่แม่นยำ", "เข้าอกเข้าใจผู้อื่นอย่างลึกซึ้ง", "มีความคิดสร้างสรรค์และมีวิสัยทัศน์", "มุ่งมั่นที่จะช่วยเหลือผู้อื่น", "มีความสามารถในการสื่อสารที่สร้างแรงบันดาลใจ"], weaknesses: ["อ่อนไหวง่ายและเก็บตัว", "มีความคาดหวังสูงเกินไป", "ไม่ชอบการเผชิญหน้าและความขัดแย้ง", "อาจจะปิดกั้นตัวเองจากโลกภายนอก"] },
        "INFP": { name: "ผู้สานฝัน", image: "https://Notezaza.github.io/MiniQuizzFlourich/INFP.KID.png", description: "คุณคือผู้มีอุดมการณ์และจินตนาการกว้างไกล เหมือนผู้สานฝันที่เชื่อมั่นในความดีงามและความเป็นไปได้ คุณให้ความสำคัญกับคุณค่าในใจและมีความปรารถนาที่จะแสดงออกถึงตัวตนที่แท้จริง", strengths: ["มีอุดมการณ์และรักความถูกต้อง", "มีความคิดสร้างสรรค์และจินตนาการสูง", "เข้าอกเข้าใจและใส่ใจผู้อื่น", "มีความยืดหยุ่นและปรับตัวได้ดี", "มุ่งมั่นในสิ่งที่เชื่อ"], weaknesses: ["มองโลกในแง่ดีเกินไป", "ไม่ชอบการจัดการข้อมูลและรายละเอียด", "เก็บตัวและไม่ค่อยเปิดเผยความรู้สึก", "อ่อนไหวง่ายต่อคำวิจารณ์"] },
        "ENFJ": { name: "วีรบุรุษแห่งผู้คน", image: "https://Notezaza.github.io/MiniQuizzFlourich/ENFJ.KID.png", description: "คุณคือผู้นำที่สร้างแรงบันดาลใจและเป็นที่รักของผู้คน เหมือนวีรบุรุษที่รวมใจผู้คนให้ทำตามเป้าหมายร่วมกัน คุณมีความสามารถในการมองเห็นศักยภาพของผู้อื่นและกระตือรือร้นที่จะช่วยเหลือให้พวกเขาเติบโต", strengths: ["มีเสน่ห์และเป็นผู้นำโดยธรรมชาติ", "เข้าอกเข้าใจและใส่ใจผู้คน", "มีความสามารถในการสื่อสารและสร้างแรงจูงใจ", "มีความรับผิดชอบและน่าเชื่อถือ", "มองโลกในแง่ดี"], weaknesses: ["อ่อนไหวต่อคำวิจารณ์", "อาจจะเสียสละเพื่อคนอื่นมากเกินไป", "ตัดสินใจโดยใช้อารมณ์มากเกินไป", "มีความต้องการเป็นที่ยอมรับสูง"] },
        "ENFP": { name: "ผู้ปลดปล่อยวิญญาณ", image: "https://Notezaza.github.io/MiniQuizzFlourich/ENFP.KID.png", description: "คุณคือผู้มีจิตวิญญาณอิสระและเต็มไปด้วยความคิดสร้างสรรค์ เหมือนผู้ปลดปล่อยวิญญาณที่นำความสุขและแรงบันดาลใจมาสู่ผู้คนรอบข้าง คุณชอบเข้าสังคมและมองหาความหมายที่ลึกซึ้งในทุกการเชื่อมต่อ", strengths: ["กระตือรือรันและมีพลังงานล้นเหลือ", "มีความคิดสร้างสรรค์และจินตนาการสูง", "เข้ากับคนง่ายและมีทักษะการสื่อสารที่ดี", "ช่างสังเกตและเข้าอกเข้าใจผู้อื่น", "มีความยืดหยุ่นและชอบสำรวจสิ่งใหม่"], weaknesses: ["สมาธิสั้นและวอกแวกง่าย", "คิดมากและเครียดง่าย", "ไม่ชอบการทำงานที่มีรายละเอียดเยอะ", "อาจไม่สามารถทำตามแผนที่วางไว้ได้"] },
        "ISTJ": { name: "ผู้พิทักษ์แห่งบรรพกาล", image: "https://Notezaza.github.io/MiniQuizzFlourich/ISTJ.KID.png", description: "คุณคือผู้ยึดมั่นในกฎเกณฑ์และมีความรับผิดชอบสูง เหมือนผู้พิทักษ์ที่รักษาขนบธรรมเนียมและปกป้องอาณาจักรด้วยความซื่อสัตย์ คุณเป็นคนที่ไว้ใจได้และจะทำงานที่ได้รับมอบหมายให้สำเร็จลุล่วงเสมอ", strengths: ["มีความรับผิดชอบสูงและน่าเชื่อถือ", "ซื่อสัตย์และยึดมั่นในหลักการ", "มีระเบียบและใส่ใจในรายละเอียด", "สงบและมีเหตุผล", "มีความมุ่งมั่นในการทำงาน"], weaknesses: ["ดื้อรั้นและไม่ชอบการเปลี่ยนแปลง", "อาจจะตัดสินคนอื่นจากมุมมองของตัวเอง", "ไม่ค่อยแสดงความรู้สึก", "มักจะโทษตัวเองเมื่อเกิดข้อผิดพลาด"] },
        "ISFJ": { name: "ผู้เยียวยาแห่งพงไพร", image: "https://Notezaza.github.io/MiniQuizzFlourich/ISFJ.KID.png", description: "คุณคือผู้ดูแลที่อบอุ่นและเปี่ยมด้วยความเมตตา เหมือนผู้เยียวยาแห่งพงไพรที่คอยปกป้องและรักษาทุกชีวิต คุณใส่ใจในความรู้สึกของผู้อื่นและมีความสุขที่ได้ช่วยเหลือสนับสนุนคนรอบข้าง", strengths: ["ใจดีและให้การสนับสนุนผู้อื่นเสมอ", "มีความรับผิดชอบและพึ่งพาได้", "ช่างสังเกตและใส่ใจในรายละเอียด", "มีความอดทนและทำงานหนัก", "มีความสามารถในการสร้างสภาพแวดล้อมที่อบอุ่น"], weaknesses: ["ขี้อายและไม่ชอบเป็นจุดสนใจ", "เก็บความรู้สึกไว้กับตัวเอง", "ไม่ชอบการเปลี่ยนแปลงและความขัดแย้ง", "มักจะให้ความสำคัญกับคนอื่นก่อนตัวเองเสมอ"] },
        "ESTJ": { name: "แม่ทัพผู้คุมกฎ", image: "https://Notezaza.github.io/MiniQuizzFlourich/ESTJ.KID.png", description: "คุณคือผู้บริหารจัดการที่เป็นเลิศและยึดมั่นในความเป็นจริง เหมือนแม่ทัพผู้คุมกฎที่นำทัพด้วยระเบียบวินัยและความเด็ดขาด คุณเก่งในการจัดระเบียบและทำให้ทุกอย่างดำเนินไปอย่างมีประสิทธิภาพ", strengths: ["มีความเป็นผู้นำและจัดการเก่ง", "ยึดมั่นในหลักการและความจริง", "มีความรับผิดชอบและขยันขันแข็ง", "ตรงไปตรงมาและเด็ดขาด", "สร้างระเบียบและโครงสร้างได้ดี"], weaknesses: ["ไม่ยืดหยุ่นและดื้อรั้น", "อาจดูแข็งกระด้างและไม่ใส่ใจความรู้สึก", "ไม่สบายใจกับสถานการณ์ที่ไม่เป็นไปตามแผน", "ตัดสินผู้อื่นเร็วเกินไป"] },
        "ESFJ": { name: "ทูตสันถวไมตรี", image: "https://Notezaza.github.io/MiniQuizzFlourich/ESFJ.KID.png", description: "คุณคือทูตแห่งมิตรภาพที่ชอบเข้าสังคมและใส่ใจผู้คน เหมือนทูตสันถวไมตรีที่สร้างความสามัคคีและความสุขให้กับทุกคน คุณมีความสุขที่ได้ดูแลและทำให้คนรอบข้างรู้สึกดี", strengths: ["รักการเข้าสังคมและเป็นมิตร", "อบอุ่นและใส่ใจความรู้สึกของผู้อื่น", "มีความรับผิดชอบและเป็นที่พึ่งได้", "มีความสามารถในการปฏิบัติงานที่เป็นรูปธรรม", "ซื่อสัตย์และให้ความสำคัญกับความสามัคคี"], weaknesses: ["ต้องการเป็นที่ยอมรับของผู้อื่น", "อ่อนไหวต่อคำวิจารณ์และความขัดแย้ง", "อาจจะยืดหยุ่นน้อยในเรื่องคุณค่าและความเชื่อ", "กังวลเกี่ยวกับสถานะทางสังคม"] },
        "ISTP": { name: "ช่างตีดาบในตำนาน", image: "https://Notezaza.github.io/MiniQuizzFlourich/ISTP.KID.png", description: "คุณคือนักปฏิบัติผู้มีทักษะและรักการสำรวจ เหมือนช่างตีดาบในตำนานที่เข้าใจกลไกของทุกสิ่งและสร้างสรรค์ผลงานชั้นยอดได้ คุณสนุกกับการลงมือทำ แก้ปัญหาเฉพาะหน้า และเรียนรู้ผ่านประสบการณ์ตรง", strengths: ["เก่งในการแก้ปัญหาเฉพาะหน้า", "มีเหตุผลและมองโลกตามความเป็นจริง", "รักการผจญภัยและเรียนรู้สิ่งใหม่", "สงบและรับมือกับสถานการณ์ฉุกเฉินได้ดี", "มีทักษะในการใช้เครื่องมือและลงมือทำ"], weaknesses: ["รักอิสระมากเกินไปและไม่ชอบการผูกมัด", "อาจจะทำอะไรเสี่ยงๆ โดยไม่คิด", "เก็บตัวและไม่ค่อยแสดงความรู้สึก", "เบื่อง่ายและไม่ชอบทำอะไรซ้ำซาก"] },
        "ISFP": { name: "นักดนตรีพเนจร", image: "https://Notezaza.github.io/MiniQuizzFlourich/ISFP.KID.png", description: "คุณคือศิลปินผู้มีเสน่ห์และรักอิสระ เหมือนนักดนตรีพเนจรที่ใช้ชีวิตไปตามเสียงของหัวใจ คุณมีความอ่อนไหวต่อความงามและมักจะแสดงออกถึงตัวตนผ่านการกระทำมากกว่าคำพูด", strengths: ["มีเสน่ห์และเป็นมิตร", "รักสวยรักงามและมีสุนทรียภาพ", "ช่างสังเกตและอยู่กับปัจจุบัน", "มีความยืดหยุ่นและรักการผจญภัย", "ซื่อสัตย์ต่อความรู้สึกของตนเอง"], weaknesses: ["ไม่ชอบการวางแผนระยะยาว", "อ่อนไหวและไม่ชอบการเผชิญหน้า", "ต้องการพื้นที่ส่วนตัวสูง", "อาจคาดเดาได้ยากและเปลี่ยนแปลงบ่อย"] },
        "ESTP": { name: "นักล่าสมบัติ", image: "https://Notezaza.github.io/MiniQuizzFlourich/ESTP.KID.png", description: "คุณคือนักผจญภัยผู้กล้าหาญและมีพลังล้นเหลือ เหมือนนักล่าสมบัติที่พร้อมเผชิญหน้ากับทุกความท้าทาย คุณรักความตื่นเต้น มีไหวพริบในการแก้ปัญหา และมักจะเป็นศูนย์กลางของความสนใจ", strengths: ["กล้าหาญและรักความท้าทาย", "มีไหวพริบและแก้ปัญหาเก่ง", "เข้าสังคมเก่งและมีเสน่ห์", "ตรงไปตรงมาและมีเหตุผล", "ช่างสังเกตและปรับตัวเร็ว"], weaknesses: ["ใจร้อนและอาจจะไม่รอบคอบ", "ไม่ชอบทฤษฎีหรือแผนการที่ซับซ้อน", "เบื่อง่ายและไม่ชอบกฎระเบียบ", "อาจจะไม่ค่อยใส่ใจความรู้สึกของผู้อื่น"] },
        "ESFP": { name: "ราชันย์แห่งงานรื่นเริง", image: "https://Notezaza.github.io/MiniQuizzFlourich/ESFP.KID.png", description: "คุณคือผู้มอบความบันเทิงและรักในชีวิตชีวา เหมือนราชันย์แห่งงานรื่นเริงที่ทำให้ทุกที่เป็นเวทีของคุณ คุณชอบเป็นจุดสนใจ มีความเป็นธรรมชาติ และสนุกกับการใช้ชีวิตในปัจจุบันขณะ", strengths: ["รักสนุกและเป็นผู้สร้างความบันเทิง", "มีเสน่ห์และเข้ากับคนง่าย", "กล้าแสดงออกและมีความเป็นธรรมชาติ", "ใส่ใจในรายละเอียดที่มองเห็นได้", "ใจดีและให้การสนับสนุน"], weaknesses: ["ไม่ชอบความขัดแย้งและคำวิจารณ์", "สมาธิสั้นและเบื่อง่าย", "วางแผนระยะยาวไม่เก่ง", "อาจจะใช้อารมณ์ในการตัดสินใจมากเกินไป"] }
    };

    let currentQuestionIndex = 0;
    let userAnswers = [];

    function loadQuestion() {
        const currentQuestion = questions[currentQuestionIndex];

        questionImage.classList.add('hidden');
        questionVideo.classList.add('hidden');
        questionVideo.pause(); // Pause any current video playback
        questionVideo.removeAttribute('src'); // Clear source to prevent loading
        questionVideo.load(); // Load the empty source to ensure it's truly stopped and reset

        if (currentQuestion.video) {
            questionVideo.src = currentQuestion.video;
            questionVideo.classList.remove('hidden');
            questionVideo.loop = true; // Ensure video loops

            // Try to play the video. Catch and log any errors, e.g., autoplay policy.
            const playPromise = questionVideo.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay started!
                }).catch(error => {
                    console.warn("Video autoplay prevented:", error);
                    // You might want to show a play button here for the user to click
                });
            }
        } else if (currentQuestion.image) {
            questionImage.src = currentQuestion.image;
            questionImage.classList.remove('hidden');
        } else {
            // Fallback if neither video nor image is provided
            questionImage.src = "https://placehold.co/400x400/b0e0e6/4682b4?text=Adventure+Starts";
            questionImage.classList.remove('hidden');
        }

        // Format question with bold first line
        const qText = currentQuestion.question;
        const firstNewlineIndex = qText.indexOf('<br>');
        let formattedQuestion = '';
        if (firstNewlineIndex !== -1) {
            const firstLine = qText.substring(0, firstNewlineIndex);
            const restOfQuestion = qText.substring(firstNewlineIndex);
            formattedQuestion = `<p class="quiz-question-text"><strong>${firstLine.replace(/<\/?strong>/g, '')}</strong>${restOfQuestion}</p>`;
        } else {
            formattedQuestion = `<p class="quiz-question-text"><strong>${qText}</strong></p>`;
        }
        quizDiv.innerHTML = formattedQuestion;
        
        optionsDiv.innerHTML = '';
        currentQuestion.options.forEach(option => {
            const button = document.createElement('button');
            button.innerHTML = option.text;
            button.className = "quiz-option-btn";
            button.onclick = () => selectOption(option.type, button);
            optionsDiv.appendChild(button);
        });

        updateProgressBar();
        nextButton.classList.add('hidden');
    }

    function selectOption(type, selectedButton) {
        userAnswers[currentQuestionIndex] = type;
        const optionButtons = optionsDiv.querySelectorAll('.quiz-option-btn');
        optionButtons.forEach(btn => {
            btn.disabled = true; // Disable all options after selection
            btn.classList.remove('selected'); // Remove selected class from others
        });
        selectedButton.classList.add('selected'); // Add selected class to the chosen one
        nextButton.classList.remove('hidden'); // Show next button
    }

    function goToNextQuestion() {
        if (userAnswers[currentQuestionIndex]) { // Ensure an option is selected
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        } else {
            alert('กรุณาเลือกคำตอบก่อนดำเนินการต่อ!');
        }
    }

    function updateProgressBar() {
        const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
        progressBar.style.width = `${progress}%`;
        questionCounter.textContent = `คำถามที่ ${currentQuestionIndex + 1} / ${questions.length}`;
    }

    function showResults() {
        const counts = userAnswers.reduce((acc, type) => {
            if (type) acc[type] = (acc[type] || 0) + 1;
            return acc;
        }, {});
        const mbtiPairs = [['E','I'],['S','N'],['T','F'],['J','P']];
        let resultType = '';
        mbtiPairs.forEach(pair => {
            const [a,b] = pair;
            resultType += ((counts[a]||0) >= (counts[b]||0)) ? a : b;
        });
        const resultData = mbtiResults[resultType];

        // --- Render result card WITHOUT the top download button ---
        quizDiv.innerHTML = `
      <div class="p-6 bg-white rounded-lg shadow-lg">
        <h2 class="text-3xl font-bold mb-4">${resultData.name} (${resultType})</h2>
        <p class="mb-6">${resultData.description}</p>
        <div class="mb-6">
          <h3 class="font-semibold text-xl text-green-700 mb-2">จุดเด่น</h3>
          <ul class="list-disc pl-5 space-y-1">
            ${resultData.strengths.map(s => `<li>${s}</li>`).join('')}
          </ul>
        </div>
        <div class="mb-6">
          <h3 class="font-semibold text-xl text-red-700 mb-2">จุดด้อย</h3>
          <ul class="list-disc pl-5 space-y-1">
            ${resultData.weaknesses.map(w => `<li>${w}</li>`).join('')}
          </ul>
        </div>
      </div>
    `;

    // hide quiz buttons, show share & download in a single footer row
    optionsDiv.innerHTML = '';
    nextButton.classList.add('hidden');
    startButton.classList.add('hidden');
    restartButton.classList.remove('hidden');
    backToHomeBtn.classList.remove('hidden');
    shareResultBtn.classList.remove('hidden');
    // swap downloadResultBtn text and position
    downloadResultBtn.textContent = 'ดาวน์โหลดแพลตฟอร์ม';
    downloadResultBtn.classList.remove('hidden');

    progressBar.style.width = '100%';
    questionCounter.textContent = `ยินดีด้วย! นี่คือผลลัพธ์ของคุณ`;

    // show the result image as before
    questionVideo.classList.add('hidden');
    questionVideo.pause();
    questionVideo.removeAttribute('src');
    questionImage.src = resultData.image;
    questionImage.classList.remove('hidden');
    }

    function resetQuiz() {
        currentQuestionIndex = 0;
        userAnswers = [];
        backToHomeBtn.classList.add('hidden');
        restartButton.classList.add('hidden');
        startButton.classList.remove('hidden'); // Ensure start button is visible
        nextButton.classList.add('hidden');
        progressBarContainer.classList.add('hidden');
        questionCounter.textContent = ''; // Clear question counter
        optionsDiv.innerHTML = ''; // Clear options
        quizDiv.innerHTML = ''; // Clear quiz div content for new question
        
        // Reset media
        questionImage.src = "https://placehold.co/400x400/b0e0e6/4682b4?text=Adventure+Starts";
        questionImage.classList.remove('hidden');
        questionVideo.classList.add('hidden');
        questionVideo.pause();
        questionVideo.removeAttribute('src'); // Clear video source

        shareResultBtn.classList.add('hidden');
        downloadResultBtn.classList.add('hidden');
    }

    resetQuiz(); // Initialize quiz to start screen on page load

    startButton.addEventListener('click', () => {
        startButton.classList.add('hidden');
        progressBarContainer.classList.remove('hidden');
        loadQuestion(); // Load the first question directly

    });
    nextButton.addEventListener('click', goToNextQuestion);
    restartButton.addEventListener('click', () => {
        resetQuiz();
               startButton.click(); // Trigger start button to load first question again
    });

    // --- Share Result Function ---
    shareResultBtn.addEventListener('click', async () => {

        const resultTitle = document.querySelector('#quizDiv h2')?.innerText || '';
        const resultDescription = document.querySelector('#quizDiv p')?.innerText || '';
        const shareText = `ฉันได้ผลลัพธ์ MBTI "${resultTitle}" จาก MBTI Adventure! มาค้นหา "เมล็ดพันธุ์ในใจ" ของคุณกัน!`;
        const url = window.location.href;

        if (navigator.share) {
            try {
                await navigator.share({
                    title: 'MBTI Adventure ผลลัพธ์ของฉัน',
                    text: shareText,
                    url: url
                });
            } catch (error) {
                console.error('Error sharing:', error);
                alert('ไม่สามารถแชร์ผลลัพธ์ได้ กรุณาลองใหม่อีกครั้ง');
            }
        } else {
            // Fallback for browsers that do not support navigator.share
            // Create a temporary element to copy text to clipboard
            const tempInput = document.createElement('textarea');
            tempInput.value = `${shareText}\n${url}`;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            alert('คัดลอกผลลัพธ์และลิงก์ไปยังคลิปบอร์ดแล้ว! คุณสามารถวางในแอปโซเชียลมีเดียได้เลย');
        }
    });

    // --- Download Result as Image Function ---
    // Ensure html2canvas is loaded from CDN
    // The CDN script tag should be at the end of the body
    downloadResultBtn.addEventListener('click', () => {
        const quizContent = document.getElementById('quizDiv');

        // Clone the content for screenshot to avoid affecting the live DOM
        const clonedContent = quizContent.cloneNode(true);
        const clonedImage = questionImage.cloneNode(true);
        
        // Create a temporary container for the screenshot
        const tempContainer = document.createElement('div');
        tempContainer.style.width = '700px'; // Set a fixed width for consistent screenshot size
        tempContainer.style.backgroundColor = 'white';
        tempContainer.style.padding = '2rem';
        tempContainer.style.boxShadow = '0 0 20px rgba(0,0,0,0.1)';
        tempContainer.style.borderRadius = '1rem';
        tempContainer.style.fontFamily = "'Mitr', 'Inter', sans-serif";
        tempContainer.style.color = '#334155';
        tempContainer.style.textAlign = 'center';
        
        // Append image to the temporary container
        const imgDiv = document.createElement('div');
        imgDiv.style.marginBottom = '1.5rem';
        imgDiv.style.display = 'flex';
        imgDiv.style.justifyContent = 'center';
        imgDiv.style.alignItems = 'center';
        imgDiv.style.width = '100%';

        // Use the currently displayed image (which would be the result image)
        clonedImage.style.maxWidth = '300px'; // Adjust size for screenshot
        clonedImage.style.height = 'auto';
        clonedImage.style.borderRadius = '0.75rem';
        imgDiv.appendChild(clonedImage);
        
        tempContainer.appendChild(imgDiv);
        tempContainer.appendChild(clonedContent);

        // Add some temporary styles to the cloned content for better screenshot appearance
        clonedContent.style.overflowY = 'visible'; // Ensure all content is visible
        clonedContent.style.paddingRight = '0'; // Remove any scrollbar padding
        // Adjust font sizes for screenshot to fit better
        const h2 = clonedContent.querySelector('h2');
        if (h2) h2.style.fontSize = '2rem'; 
        const p = clonedContent.querySelector('p');
        if (p) p.style.fontSize = '1rem';
        const h3s = clonedContent.querySelectorAll('h3');
        h3s.forEach(h3 => h3.style.fontSize = '1.25rem'); // Adjust h3 size
        const lis = clonedContent.querySelectorAll('li');
        lis.forEach(li => li.style.fontSize = '0.9rem'); // Adjust li size

        document.body.appendChild(tempContainer);

        html2canvas(tempContainer, {
            scale: 2, // Increase scale for higher resolution
            useCORS: true, // Important for loading images from external domains
            logging: true,
        }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'mbti_adventure_result.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
            document.body.removeChild(tempContainer); // Clean up
        }).catch(err => {
            console.error('Error generating image:', err);
            alert('เกิดข้อผิดพลาดในการสร้างรูปภาพผลลัพธ์');
            document.body.removeChild(tempContainer); // Ensure cleanup even on error
        });
    });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</body>
</html>
